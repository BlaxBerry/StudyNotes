# URL | 客户端服务器｜数据请求 | 接口测试





## URL基础

URL（unifrom Resource Locator）统一资源定位符

用于标识互联网上每一个资源的唯一存放位置

浏览器只用通过URL地址才能正确获取资源的存放位置，从而获取对应资源



### URL地址的组成

1. 客户端和服务器之间的**通信协议**
2. 存有资源的**服务器名称**
3. 资源服务器上的**具体存放位置**

![](https://pbs.twimg.com/media/E21veWEUUAEiQpy?format=jpg&name=medium)



### 查询字符串

就是URL参数

在URL地址后加上的向服务器发送消息的字符串

以 key=value 的健值对形式

若要加上多个参数，则使用 & 隔开

```http
http://xxxxx?key1=value&key2=value2
```



### URL编码 与 解码

URL地址中仅允许使用英文字母、标点符号、数字

不允许出现中文字符

---

#### 编码（转义）

若URL中要包含字符，必须对中文字符进行编码转义

通过安全的字符去表示不安全的字符

即使用 英文字母/标点字符/数字 去表示 非英文字符

```js
// 西：%E8%A5%BF
// 游：%E6%B8%B8
// 记：%E8%AE%B0
```

```js
http://URL?id=100&name=西游记

http://URL?id=100&name=%E8%A5%BF%E6%B8%B8%E8%AE%B0
```

---

#### 解码

即编码后的字符转为编码前的字符

---

#### 编码和解码的API

浏览器提供了编码和解码的API

但是浏览器会自动编码解码，一般情况下不用关心编码解码操作

- 编码：encoded('西游记')

- 解码：decoded('E8%A5%BF%E6%B8%B8%E8%AE%B0')

```js
console.log(encodeURI("西游记"));
// %E8%A5%BF%E6%B8%B8%E8%AE%B0

console.log(decodeURI("%E8%A5%BF%E6%B8%B8%E8%AE%B0"));\
//  西游记
```









## 客户端与服务器概念

- **服务器：**

  因特网中存放对外提供的资源的电脑

  服务器本质是个电脑，只不过性能强过一般电脑

  服务器电脑上安装了一些web服务器软件（IIS、Apache）

- **客户端：**

  因特网中获得和消费资源的电脑

  个人电脑中通过浏览器的方式访问服务器对外提供的资源

  普通电脑也可以通过安装web服务器软件（IIS、Apache）变为web服务器







## 服务器基础

---

### IP地址

**IP地址**是互联网中每一台计算机的唯一地址，具有唯一性

只有知道IP地址的前提下，才能与对应电脑之间进行数据通信

格式：

0～255之间的十进制整数与点（点分十进制 ）

表示成xxx.xxx.xxx.xxx的形式，

比如：127.0.0.1

开发时，电脑可能即使客户端又是服务器

127.0.0.1这个IP地址，就是在将本机当作服务器进行访问

---

### 域名

单纯通过IP地址也可以实现访问和通信，但因为是一长串数字不直观

所以就有了**域名地址**（Domain Name）

即IP地址的别名，助于方便区分记住服务器地址

通过IP地址访问，就如同通过报身份证号码点名

通过域名去访问，就如同叫人别名（姓名）点名

比如：

开发期间本机服务器可通过127.0.0.1也可通过localhost

访问百度服务器可通过IP地址182.61.200.7也可通过域名www.baidu.com

---

### **域名服务器**

IP地址和域名是一一对应的通过域名访问对应服务器

一种叫**域名服务器**的电脑（**DNS**，Domain Name Server）

存放IP和域名的对应关系，实现IP地址和域名对应的转换工作

---

### 端口号

就好比门牌号

一个电脑中可以运行多个web服务，每个web服务都有对应的**唯一的端口号**

客户端发给服务端的网络请求，可通过端口号交给对应的web服务进行处理

实际应用浏览器URL中的 **80端口** 可以省略，非0端口不可被省略













## 客户端与服务器的通信

### 通信过程

资源存放在服务器，客户端想要获取资源就需要和服务端游通信，通信的三个步骤：

1. 客户端**发送请求**
2. 服务器**处理请求**
3. 服务器**响应请求**

![](https://pbs.twimg.com/media/E21vhv5VIAMXbQ0?format=jpg&name=medium)



### 数据交换格式

服务器和客户端之间数据进行传输交互式的格式

前端常用的是两种：

- **JSON** （常用）
- **XML** （少用）





### Ajax 与 API

**网页和服务器之间的数据传输 ** 要通过Ajax技术

---

#### Ajax主要应用场景

- 注册用户时，**用户名重复检测**
- **搜索提示**，加载提示相关关键字列表
- **数据分页显示**，根据页面动态加载表格数据

- **数据表格的增删改查**操作

---

#### 接口

使用Ajax请求数据时的请求的**URL地址**叫做接口（数据接口）

每个接口必须有对应的请求方式

请求的过程还是 **请求——>处理——>响应**

---

#### 接口文档

就是接口使用的说明文档，一般包含：

1. 接口名称
2. 接口URL
3. 接口调用方式
4. 参数格式
5. 响应数据的说明
6. 返回实例参考









## 接口测试

### 浏览器开发者工具

可通过Chrome浏览器的开发者工具**Network**面板

分析客户端和服务器的通信过程

---

### PostMan 接口测试工具

不用在本地写代码就可直接调用以及测试接口

[PostMan网页版](https://web.postman.co/workspace/My-Workspace~cb530ecf-75e2-4f46-8d81-9f78fe72762f/request/create?requestId=dc2b8ebb-1964-4549-8085-e492b4e33237)

网页班无法获取在本机localhost开的服务器的接口，需要下载

- 用于测试接口可否正常访问

- 检查响应的数据

- 可以分别列出接口参数，方便扒接口

<img src="https://miro.medium.com/max/1838/1*ap0NRizcKwuX5gfzKqEk6Q.png" style="zoom: 33%;" />

---

### 测试GET接口

1. 选择GET请求方式
2. 填写请求路径URL
3. 若有请求参数，则在params中填写key-value
4. 点击Send发送请求

---

### 测试POST接口

1. 选择POST请求方式
2. 填写请求路径URL
3. 在body中选中数据格式 x-www-form-urlencoded
4. 填写请求参数key-value
5. 点击Send发送请求





